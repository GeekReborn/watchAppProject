{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/Administrator/Desktop/watchapp-frontend/pages/order/order-detail-info/order-detail-info.vue?decb","webpack:///C:/Users/Administrator/Desktop/watchapp-frontend/pages/order/order-detail-info/order-detail-info.vue?8684","webpack:///C:/Users/Administrator/Desktop/watchapp-frontend/pages/order/order-detail-info/order-detail-info.vue?bafb","webpack:///C:/Users/Administrator/Desktop/watchapp-frontend/pages/order/order-detail-info/order-detail-info.vue?381e","uni-app:///pages/order/order-detail-info/order-detail-info.vue","webpack:///C:/Users/Administrator/Desktop/watchapp-frontend/pages/order/order-detail-info/order-detail-info.vue?ba93","webpack:///C:/Users/Administrator/Desktop/watchapp-frontend/pages/order/order-detail-info/order-detail-info.vue?697d"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"pages/order/order-detail-info/order-detail-info.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/order/order-detail-info/order-detail-info.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./order-detail-info.vue?vue&type=template&id=66164246&\"\nvar renderjs\nimport script from \"./order-detail-info.vue?vue&type=script&lang=js&\"\nexport * from \"./order-detail-info.vue?vue&type=script&lang=js&\"\nimport style0 from \"./order-detail-info.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/order/order-detail-info/order-detail-info.vue\"\nexport default component.exports","export * from \"-!F:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!F:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!F:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!F:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order-detail-info.vue?vue&type=template&id=66164246&\"","var components\ntry {\n  components = {\n    orderDetailShop: function() {\n      return import(\n        /* webpackChunkName: \"components/order-detail-shop/order-detail-shop\" */ \"@/components/order-detail-shop/order-detail-shop.vue\"\n      )\n    },\n    orderDetailForm: function() {\n      return import(\n        /* webpackChunkName: \"components/order-detail-form/order-detail-form\" */ \"@/components/order-detail-form/order-detail-form.vue\"\n      )\n    },\n    imageText: function() {\n      return import(\n        /* webpackChunkName: \"components/image-text/image-text\" */ \"@/components/image-text/image-text.vue\"\n      )\n    },\n    orderDetailConfirmPrice: function() {\n      return import(\n        /* webpackChunkName: \"components/order-detail-confirm-price/order-detail-confirm-price\" */ \"@/components/order-detail-confirm-price/order-detail-confirm-price.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!F:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order-detail-info.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order-detail-info.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"container\">\r\n\t\t<order-detail-shop :shop='shop'></order-detail-shop>\r\n\t\t<view class=\"split-line\">\r\n\t\t\t<order-detail-form :order='order'></order-detail-form>\r\n\t\t</view>\r\n\t\t<view class=\"image-desc-info\">\r\n\t\t\t<image-text Title=\"客户描述\" :problem-desc-text=\"order.customerProfile\" :images=\"order.beforeRepairPhoto\"  ></image-text>\r\n\t\t\t<view class=\"upload-image-box\">\r\n\t\t\t\t<image-text Title=\"正面及问题描述(至少上传1张图片)\" :problemDescText=\"order.positiveItemDesc\" :images=\"order.positiveItemPhoto\" ></image-text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"upload-image-box\">\r\n\t\t\t\t<image-text Title=\"背面及问题描述(至少上传1张图片)\" :problemDescText=\"order.backItemDesc\" :images=\"order.backItemPhoto\" ></image-text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"upload-image-box\">\r\n\t\t\t\t<image-text Title=\"侧面及问题描述(至少上传1张图片)\" :problemDescText=\"order.sideItemDesc\" :images=\"order.sideItemPhoto\"  ></image-text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"upload-image-box\">\r\n\t\t\t\t<image-text Title=\"故障面及问题描述(至少上传1张图片)\" :problemDescText=\"order.problemDescription\" :images=\"order.problemPhoto\"  ></image-text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view v-if=\"order.orderStep >= 4\" class=\"order-info-panel\">\r\n\t\t\t<view>店铺报价</view>\n\t\t\t<view class=\"info-value\">￥{{order.payPrice}}</view>\r\n\t\t</view>\n\t\t<!-- 用户确认报价阶段 -->\n\t\t<view v-if=\"order.orderStep == 4 && !isMasterOrShopOwner\">\n\t\t\t<order-detail-confirm-price @signed=\"signStatusHandle\" ref=\"orderConfirm\"></order-detail-confirm-price>\n\t\t</view>\n\t\t<!-- 客户操作 -->\n\t\t<cover-view v-if=\"order.orderStep == 4 && !isMasterOrShopOwner\" class=\"operation-container\">\n\t\t\t<button class=\"cancel-btn\" @click=\"cancelOrder\" >取消订单</button>\n\t\t\t<button class=\"confirm-btn\" @click=\"confirmToAgreePricing\">￥{{order.payPrice}} 同意并确认报价</button>\n\t\t</cover-view>\n\t\t<!-- 店铺操作 -->\n\t\t<cover-view v-if=\"order.orderStep >= 4 && order.orderStep <= 5 && isMasterOrShopOwner\" class=\"operation-container\">\n\t\t\t<button class=\"cancel-btn\" @click=\"cancelOrder\" >取消订单</button>\n\t\t\t<button class=\"confirm-btn\" @click=\"confirmPayed\" :disabled=\"!order.agreeRepair\">确认已支付</button>\n\t\t</cover-view>\n\t\t\n\t\t<!-- 取消订单 -->\n\t\t<cover-view v-if=\"order.orderStep == 5 && !isMasterOrShopOwner\" class=\"operation-container\">\n\t\t\t<button class=\"cancel-btn-lg\" @click=\"cancelOrder\" >取消订单</button>\n\t\t</cover-view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport orderDetailShop from '@/components/order-detail-shop/order-detail-shop.vue'\r\n\timport orderDetailForm from '@/components/order-detail-form/order-detail-form.vue'\r\n\timport orderDetailConfirmPrice from '@/components/order-detail-confirm-price/order-detail-confirm-price.vue'\r\n\timport imageText from \"@/components/image-text/image-text.vue\";\r\n\texport default {\r\n\t\tcomponents:{orderDetailShop,orderDetailForm,imageText,orderDetailConfirmPrice},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshop:{\r\n\t\t\t\t\tshopname:'',\r\n\t\t\t\t\tlocationtext:'',\r\n\t\t\t\t},\r\n\t\t\t\torder:{\n\t\t\t\t\tcustomerSignature: '',\n\t\t\t\t\tagreeRepair: false\n\t\t\t\t},\n\t\t\t\t// isSigned: false,\n\t\t\t\tuserInfo: {},\n\t\t\t\tisMasterOrShopOwner: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(param) {\r\n\t\t\tif (param.order) {\r\n\t\t\t\tthis.order = JSON.parse(param.order);\r\n\t\t\t\tconsole.log('order',this.order)\r\n\t\t\t}\r\n\t\t\tif (param.shop) {\r\n\t\t\t\tthis.shop = JSON.parse(param.shop);\r\n\t\t\t\tconsole.log('order',this.shop)\r\n\t\t\t}\n\t\t\tthis.userInfo = this.$userInfo.getUserInfo()\n\t\t\tthis.isMasterOrShopOwner = this.$userInfo.isMasterOrShopOwner()\r\n\t\t\tthis.initPageData();\r\n\t\t},\r\n\t\tonPullDownRefresh() {\r\n\t\t\tconsole.log('onPullDownRefresh...')\r\n\t\t\tvar that = this;\r\n\t\t\tthat.$login.checkTokenValidity()\r\n\t\t\t.then(()=>{\r\n\t\t\t\tthat.loadOrderInfo();\r\n\t\t\t}).catch((res)=>{\r\n\t\t\t\tconsole.log('catch...',res)\r\n\t\t\t})\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tuni.stopPullDownRefresh();\r\n\t\t\t}, 1000)\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tinitPageData(){\r\n\t\t\t\tthis.setSelectorValue();\r\n\t\t\t\t// this.setImageInfo();\r\n\t\t\t},\r\n\t\t\tloadOrderInfo(orderId) {\r\n\t\t\t\tconsole.log('loadOrderInfo')\r\n\t\t\t\tvar that = this;\r\n\t\t\t\torderId = orderId || that.order.id;\r\n\t\t\t\tthis.$api.apiGet({\r\n\t\t\t\t\t\turl: `/api/order/${orderId}`,\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t// that.$msg.showMessage(\"请求ok！\", res)\r\n\t\t\t\t\t\tconsole.log('请求ok！', res)\r\n\t\t\t\t\t\tthat.order = res.data.data;\r\n\t\t\t\t\t\tthat.setSelectorValue();\r\n\t\t\t\t\t\t// that.setImageInfo();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((res) => {\r\n\t\t\t\t\t\tthat.$msg.showMessage(res.data.msg || \"请求失败！\")\r\n\t\t\t\t\t\tthat.showCtrl.orderDetail = false;\r\n\t\t\t\t\t})\r\n\t\t\t},\n\t\t\t\r\n\t\t\tsetSelectorValue(order){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\t// this.order.purchaseDate = this.order.purchaseDate.substr(0,10);\r\n\t\t\t\tconsole.log('setSelectorValue')\r\n\t\t\t\tvar dicrval = that.$dict.getSelector('strap_material_select',0)\r\n\t\t\t\tconsole.log('dicrval',dicrval)\r\n\t\t\t\torder = order || that.order;\r\n\t\t\t\tconsole.log('order...',JSON.parse(JSON.stringify(order)))\r\n\t\t\t\t// 品牌 watch_brand_id watchBrandId\r\n\t\t\t\torder.watchBrandId = that.$dict.getSelector('brand_select',order.watchBrandId);\r\n\t\t\t\t// 手表功能 watch_function watchFunction\r\n\t\t\t\torder.watchFunction = that.$dict.getSelector('function_select',order.watchFunction);\r\n\t\t\t\t// 机芯类别 watch_movement watchMovement\r\n\t\t\t\torder.watchMovement = that.$dict.getSelector('movement_category_select',order.watchMovement);\r\n\t\t\t\t// 表带材质 watchband_material watchbandMaterial\r\n\t\t\t\torder.watchbandMaterial = that.$dict.getSelector('strap_material_select',order.watchbandMaterial);\r\n\t\t\t\t// 表壳材质 case_material caseMaterial\r\n\t\t\t\torder.caseMaterial = that.$dict.getSelector('case_material_select',order.caseMaterial);\r\n\t\t\t\t// 表扣材质 clasp_material claspMaterial\r\n\t\t\t\torder.claspMaterial = that.$dict.getSelector('buckle_material_select',order.claspMaterial);\r\n\t\t\t\t// 外观品相 watch_exterior watchExterior\r\n\t\t\t\torder.watchExterior = that.$dict.getSelector('appearance_select',order.watchExterior);\r\n\t\t\t\t// 维修部件 repair_parts repairParts\r\n\t\t\t\torder.repairParts = that.$dict.getSelector('repair_parts_select',order.repairParts);\r\n\t\t\t\t// 是否保价 is_insure insure\r\n\t\t\t\torder.insure = that.$dict.getSelector('insurance_select', (order.insure?1:0));\r\n\t\t\t\t// 是否维修过 is_repair repair\r\n\t\t\t\torder.repair = that.$dict.getSelector('isrepair_select', order.repair?1:0);\r\n\t\t\t\tconsole.log('order...',order)\r\n\t\t\t\tthat.order = order;\r\n\t\t\t},\r\n\t\t\t/* setImageInfo(order){\r\n\t\t\t\torder = order || this.order;\r\n\t\t\t\t// customerPhoto \r\n\t\t\t\tvar customerPhoto = [];\r\n\t\t\t\tcustomerPhoto.push(orderInfo.beforeRepairPhoto);\r\n\t\t\t\torderInfo.beforeRepairPhoto = customerPhoto;\r\n\t\t\t\t// imagePositive\r\n\t\t\t\tvar imagePositive = [];\r\n\t\t\t\timagePositive.push(orderInfo.positiveItemPhoto);\r\n\t\t\t\torderInfo.positiveItemPhoto = imagePositive;\r\n\t\t\t\t// imageBack\r\n\t\t\t\tvar imageBack = [];\r\n\t\t\t\timageBack.push(orderInfo.backItemPhoto);\r\n\t\t\t\torderInfo.backItemPhoto = imageBack;\r\n\t\t\t\t// imageSide\r\n\t\t\t\tvar imageSide = [];\r\n\t\t\t\timageSide.push(orderInfo.sideItemPhoto);\r\n\t\t\t\torderInfo.sideItemPhoto = imageSide;\r\n\t\t\t\t// imageMalfunction\r\n\t\t\t\tvar imageMalfunction = [];\r\n\t\t\t\timageMalfunction.push(orderInfo.problemPhoto);\r\n\t\t\t\torderInfo.problemPhoto = imageMalfunction;\r\n\t\t\t\tthis.order = order;\r\n\t\t\t} */\r\n\t\t\t/* ,setImageArchiveInfo(orderArchive){\r\n\t\t\t\t// imagePositiveItem\r\n\t\t\t\tvar imagePositiveItem = [];\r\n\t\t\t\timagePositiveItem.push(orderInfo.positiveItemPhoto);\r\n\t\t\t\torderInfo.positiveItemPhoto = imagePositiveItem;\r\n\t\t\t\t// imageBackItem\r\n\t\t\t\tvar imageBackItem = [];\r\n\t\t\t\timageBackItem.push(orderInfo.backItemPhoto);\r\n\t\t\t\torderInfo.backItemPhoto = imageBackItem;\r\n\t\t\t\t// imageSideItem\r\n\t\t\t\tvar imageSideItem = [];\r\n\t\t\t\timageSideItem.push(orderInfo.sideItemPhoto);\r\n\t\t\t\torderInfo.sideItemPhoto = imageSideItem;\r\n\t\t\t\t// imageProblem\r\n\t\t\t\tvar imageProblem = [];\r\n\t\t\t\timageProblem.push(orderInfo.problemPhoto);\r\n\t\t\t\torderInfo.problemPhoto = imageProblem;\r\n\t\t\t\t// imageItem\r\n\t\t\t\tvar imageItem = [];\r\n\t\t\t\timageItem.push(orderInfo.itemPhoto);\r\n\t\t\t\torderInfo.itemPhoto = imageItem;\r\n\t\t\t\t// imageRepair\r\n\t\t\t\tvar imageRepair = [];\r\n\t\t\t\timageRepair.push(orderInfo.repairPhoto);\r\n\t\t\t\trepairPhoto.beforeRepairPhoto = imageRepair;\r\n\t\t\t} */\n\t\t\t\n\t\t\tsignStatusHandle() {\n\t\t\t\t// this.isSigned = true\n\t\t\t\tthis.order.customerSignature = this.$refs.orderConfirm.getImg()\n\t\t\t\tthis.order.agreeRepair = true\n\t\t\t},\n\t\t\tconfirmToAgreePricing() {\n\t\t\t\tvar that = this\n\t\t\t\tthat.$login.checkTokenValidity().then((login) => {\n\t\t\t\t\tif (!that.order.agreeRepair) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '签名未上传完成，请稍等或重新签名！',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t\treturn \n\t\t\t\t\t}\n\t\t\t\t\tconsole.log('拿出来的：' + that.order.customerSignature)\n\t\t\t\t\tvar orderId = that.order.id\n\t\t\t\t\tthat.$api.apiPost({\n\t\t\t\t\t\turl: `/api/order/${orderId}/repair/confirm`,\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tcustomerSignature: that.order.customerSignature,\n\t\t\t\t\t\t\tisAgreeRepair: that.order.agreeRepair\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '已确认报价！',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthat.$websocket.sendData({\r\n\t\t\t\t\t\t\torderId: that.order.id,\r\n\t\t\t\t\t\t\torderStep: that.order.orderStep,\r\n\t\t\t\t\t\t\tnotifyShopId:that.order.shopId,\r\n\t\t\t\t\t\t\t// notifyCustomerId: order.customerId\r\n\t\t\t\t\t\t})\n\t\t\t\t\t\tuni.navigateBack()\n\t\t\t\t\t})\n\t\t\t\t\t.catch((res) => {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '确认报价失败！',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t},\n\t\t\tconfirmPayed() {\n\t\t\t\tvar that = this\n\t\t\t\t\n\t\t\t\tthat.$login.checkTokenValidity().then((login) => {\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: '是否已支付？',\n\t\t\t\t\t\tcancelText: '未支付',\n\t\t\t\t\t\tconfirmText: '已支付',\n\t\t\t\t\t\tsuccess(result) {\n\t\t\t\t\t\t\tif (result.confirm) {\n\t\t\t\t\t\t\t\tvar orderId = that.order.id\n\t\t\t\t\t\t\t\tthat.$api.apiPost({\n\t\t\t\t\t\t\t\t\turl: `/api/order/${orderId}/repair/doubleConfirm`\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: '已确认支付！',\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\tthat.$websocket.sendData({\r\n\t\t\t\t\t\t\t\t\t\torderId: that.order.id,\r\n\t\t\t\t\t\t\t\t\t\torderStep: that.order.orderStep,\r\n\t\t\t\t\t\t\t\t\t\t// notifyShopId:that.order.shopId,\r\n\t\t\t\t\t\t\t\t\t\tnotifyCustomerId: that.order.customerId\r\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\tuni.navigateBack()\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.catch((res) => {\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: '确认支付失败！',\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t})\n\t\t\t},\n\t\t\tcancelOrder() {\n\t\t\t\tvar that = this\n\t\t\t\tthat.$login.checkTokenValidity().then((login) => {\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: '是否要取消订单？',\n\t\t\t\t\t\tcancelText: '不取消',\n\t\t\t\t\t\tconfirmText: '确认取消',\n\t\t\t\t\t\tsuccess(result) {\n\t\t\t\t\t\t\tif (result.confirm) {\n\t\t\t\t\t\t\t\tvar orderId = that.order.id\n\t\t\t\t\t\t\t\tthat.$api.apiPost({\n\t\t\t\t\t\t\t\t\turl: `/api/order/${orderId}/repair/cancel`\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: '已取消订单！',\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\tthat.$websocket.sendData({\r\n\t\t\t\t\t\t\t\t\t\torderId: that.order.id,\r\n\t\t\t\t\t\t\t\t\t\torderStep: that.order.orderStep,\r\n\t\t\t\t\t\t\t\t\t\tnotifyShopId:that.order.shopId,\r\n\t\t\t\t\t\t\t\t\t\t// notifyCustomerId: order.customerId\r\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\tuni.navigateBack()\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.catch((res) => {\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: '取消订单失败！',\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t})\n\t\t\t}\r\n\t\t} // methods end\n\t\t\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.container {\n\t\tpadding-bottom: 140rpx;\n\t}\r\n\t.order-info-panel {\n\t\tmargin-top: 20rpx;\n\t\tpadding: 20rpx 40rpx;\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\tbackground-color: #ffffff;\n\t}\n\t.info-value {\n\t\tcolor: #009245;\n\t}\n\r\n\t/*图片上传*/\r\n\t.upload-image-box {\r\n\t\tmargin-top: 20rpx;\r\n\t}\n\t.operation-container{\n\t\tposition:fixed;\n\t\tbottom:0;\n\t\twidth:100%;\n\t\tline-height: 0rpx;\n\t\tz-index:100;\n\t}\n\t.cancel-btn{\n\t\twidth:40%;\n\t\theight:140rpx;\n\t\tline-height: 140rpx;\n\t\ttext-align: center;\n\t\tfont-size: 32rpx;\n\t\tcolor:#666;\n\t\tbackground-color: #fff;\n\t\tborder-top: #EEEEEE 1px solid;\n\t\tborder-radius: 0rpx ;\n\t\tdisplay: inline-block;\n\t\tz-index: 999;\n\t}\n\t.cancel-btn-lg {\n\t\twidth: 100%;\n\t\theight:140rpx;\n\t\tline-height: 140rpx;\n\t\ttext-align: center;\n\t\tfont-size: 32rpx;\n\t\tcolor:#fff;\n\t\tbackground-color: #009245;\n\t\tborder-top: #EEEEEE 1px solid;\n\t\tborder-radius: 0rpx ;\n\t\tdisplay: inline-block;\n\t\tz-index: 999;\n\t}\n\t.confirm-btn{\n\t\twidth:60%;\n\t\theight:140rpx;\n\t\tline-height: 140rpx;\n\t\ttext-align: center;\n\t\tfont-size: 32rpx;\n\t\tcolor:#fff;\n\t\tbackground-color: #009245;\n\t\tborder-top: #EEEEEE 1px solid;\n\t\tborder-radius: 0rpx ;\n\t\tdisplay: inline-block;\n\t\tz-index: 999;\n\t\t\n\t}\r\n</style>\n","import mod from \"-!F:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!F:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!F:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!F:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!F:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order-detail-info.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!F:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!F:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!F:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!F:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!F:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order-detail-info.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1643419152307\n      var cssReload = require(\"F:/HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}